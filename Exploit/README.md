# 🎯 SSRF Exploit Script

Este script automatiza un ataque **Server-Side Request Forgery (SSRF)** contra la aplicación vulnerable `FinSecure Bank`, contenida en el repositorio principal.

Está diseñado con fines **educativos y demostrativos**, permitiendo entender cómo una vulnerabilidad SSRF puede utilizarse para extraer información interna y mover fondos de forma ilegítima.

---

## ⚙️ ¿Qué hace exactamente?

Este script realiza los siguientes pasos:

1. Genera un **DNI válido** automáticamente.
2. Crea un PDF ficticio para cumplir el requisito del formulario.
3. Se **registra** como usuario nuevo usando tus credenciales.
4. Inicia sesión con ese usuario recién creado.
5. Extrae el **IBAN personal** y el saldo actual desde `/dashboard`.
6. Realiza una petición SSRF a `/funds` para obtener los IBANs y balances de otros usuarios.
7. Ejecuta múltiples transferencias internas vía SSRF desde cada cuenta con saldo hacia tu cuenta.
8. Llama a `/withdraw` para intentar obtener la flag y mostrarla en consola.

---

## 📋 Requisitos

- Python 3.7 o superior
- Paquetes necesarios:
  ```bash
  pip install requests beautifulsoup4
  ```

---

## 🚀 Ejecución

Lanza el exploit con:

```bash
python exploit.py
```

Se te pedirá introducir:

- 🖥️ Nombre del servidor público (`localhost`, por ejemplo)
- 🔌 Puerto del servidor público (`5000` por defecto)
- 🖥️ Nombre del servidor interno (`127.0.0.1`)
- 🔐 Puerto del servidor interno (`443` por defecto)
- 👤 Nombre de usuario
- 🔑 Contraseña

Ejemplo:

```
Introduce el nombre del servidor público: localhost
Introduce el puerto del servidor público (por defecto 80): 5000
Introduce el nombre del servidor interno: 127.0.0.1
Introduce el puerto del servidor interno (por defecto 443): 
Introduce el nombre de usuario: hacker
Introduce la contraseña: pass1234
```

---

## 🧠 Cómo funciona la explotación

El endpoint vulnerable es:

```
POST /verify_external
```

Este acepta una URL arbitraria, que el servidor público ejecuta internamente sin validación. Usamos esta funcionalidad para:

1. Acceder al endpoint interno `/funds`, que devuelve todos los IBANs con saldo.
2. Construir múltiples peticiones hacia `/transfer?from=...&to=...` con los IBANs obtenidos.
3. Repetir el proceso hasta vaciar los saldos de todas las cuentas posibles.

Finalmente se accede a `/withdraw`, y si todo ha ido bien, se devuelve una **bandera oculta (flag)** en HTML.

---

## 📂 Estructura

```
exploit/
└── exploit.py     # Script completo de automatización del ataque
```

---

## 🛡️ Recordatorio de seguridad

Este script es **vulnerable por diseño** y forma parte de un entorno de laboratorio cerrado.

- ❌ No debe ser usado en entornos de producción.
- ❌ No debe usarse contra aplicaciones reales sin autorización.
- ✅ Sirve exclusivamente para **formación, análisis y concienciación**.

---

## 📄 Licencia

Este software se publica bajo la misma licencia que el proyecto principal. Cualquier uso no autorizado o malicioso está estrictamente prohibido.

---

<p align="center">
  <strong>SSRF Exploit — Entiende la vulnerabilidad. Aprende a pensar como atacante. Después, piensa como defensor.</strong>
</p>